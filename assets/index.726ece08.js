import{t as e,p as t,c as l,T as r,i as n,a as o,b as a,d as s,m as i,s as c,e as d,f as u,g as p,h as v,F as g,j as m,k as h,l as f,o as y,n as x,q as b,r as N,u as _,v as w,w as $,x as C,y as L,z as R,_ as k,A as M,B as E,C as I,D as S,E as O,G as T,H,I as A,J as B}from"./vendor.214c7106.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const D="rgba(236, 72, 153)",z=["text-red-400","text-yellow-400","text-green-400","text-blue-400","text-indigo-400","text-purple-400","text-pink-400"],V=e("<header></header>"),j=e("<footer></footer>"),Q=e('<main role="main"></main>'),U=e("<div></div>"),q=l([[t("type","HEADER"),e=>(()=>{const t=V.cloneNode(!0);return n(t,(()=>e.c())),o((()=>t.className=e.class)),t})()],[t("type","FOOTER"),e=>(()=>{const t=j.cloneNode(!0);return n(t,(()=>e.c())),o((()=>t.className=e.class)),t})()],[t("type","MAIN"),e=>(()=>{const t=Q.cloneNode(!0);return n(t,(()=>e.c())),o((()=>t.className=`container mx-auto p-6 md:w-3/5 ${e.class}`)),t})()],[r,e=>(()=>{const t=U.cloneNode(!0);return n(t,(()=>e.c())),o((()=>t.className=e.class)),t})()]]),F=e=>{const t=a((()=>e.children));return q({c:t,...e})},P=e('<h3 class="font-bold text-lg"></h3>'),G=e('<h3 class="font-bold my-2 text-2xl"></h3>'),K=e('<h2 class="font-bold font-serif my-2 text-2xl"></h2>'),W=t("type"),J=l([[W("SUBTITLE"),e=>(()=>{const t=K.cloneNode(!0);return n(t,(()=>e.text)),t})()],[W("SECTION_TITLE"),e=>(()=>{const t=G.cloneNode(!0);return n(t,(()=>e.text)),t})()],[r,e=>(()=>{const t=P.cloneNode(!0);return n(t,(()=>e.text)),t})()]]),Y=e=>{const[t,l]=s(e);return[t,e=>l("boolean"==typeof e?e:e=>!e)]},X=e('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),Z=e=>{const t=a((()=>e.children)),l=i({class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},e);return(()=>{const r=X.cloneNode(!0);return c(r,e,!0,!0),n(r,t),o((e=>{const t=`${l.class}`,n=l.viewBox,o=l.fill;return t!==e._v$&&d(r,"class",e._v$=t),n!==e._v$2&&d(r,"viewBox",e._v$2=n),o!==e._v$3&&d(r,"fill",e._v$3=o),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})()},ee=e('<svg><path fillRule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clipRule="evenodd"></path></svg>',4,!0),te=e=>u(Z,i(e,{get children(){return ee.cloneNode(!0)}})),le=e('<svg><path fillRule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clipRule="evenodd"></path></svg>',4,!0),re=e=>u(Z,i(e,{get children(){return le.cloneNode(!0)}})),ne=e('<input class="border border-gray-400 p-2 rounded-md">'),oe=e=>(()=>{const t=ne.cloneNode(!0);return c(t,e,!1,!1),t})(),ae=e('<svg><path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd"></path></svg>',4,!0),se=e=>u(Z,i(e,{get children(){return ae.cloneNode(!0)}})),ie=e('<svg><path fillRule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clipRule="evenodd"></path></svg>',4,!0),ce=e=>u(Z,i(e,{get children(){return ie.cloneNode(!0)}})),de=e('<li class="flex flex-row align-center justify-between px-2 py-4 shadow-md w-full"><a></a></li>'),ue=e('<div class="flex flex-row align-center justify-between"></div>'),pe=e('<p class="pointer p-2"></p>'),ve=e=>{const[t,l]=Y(!1),[r,a]=s(e.name);let i;const c=()=>{l(!0),i.focus(),i.select()},p=()=>{e.renameClip(e.id,r()),l(!1)};return(()=>{const s=de.cloneNode(!0),g=s.firstChild;return n(g,u(te,{"aria-label":"Download Clip",class:"h-8 pointer w-8",fill:D})),n(s,(()=>{const o=v((()=>!!t()),!0);return()=>o()?(()=>{const e=ue.cloneNode(!0);return n(e,u(oe,{ref(e){"function"==typeof i?i(e):i=e},type:"text",get value(){return r()},onInput:e=>a(e.target.value),onKeyUp:e=>{"Enter"===e.key&&p()}}),null),n(e,u(se,{"aria-label":"Save Changes",class:"h-8 pointer w-8",fill:D,onClick:p}),null),n(e,u(re,{"aria-label":"Cancel Changes",class:"h-8 pointer w-8",fill:D,onClick:l}),null),e})():[(()=>{const t=pe.cloneNode(!0);return t.$$click=c,n(t,(()=>e.name)),t})(),u(ce,{"aria-label":"Delete Clip",class:"h-8 pointer w-8",fill:D,get onClick(){return e.removeClip}})]})(),null),o((t=>{const l=e.url,r=e.name;return l!==t._v$&&d(g,"href",t._v$=l),r!==t._v$2&&d(g,"download",t._v$2=r),t}),{_v$:void 0,_v$2:void 0}),s})()};p(["click"]);const ge=e('<ul class="clips__list grid grid-cols-1 gap-6 md:grid-cols-2 px-4 pt-2 pb-4"></ul>'),me=e=>(()=>{const t=ge.cloneNode(!0);return n(t,u(g,{get each(){return e.clips},children:t=>u(ve,i({get renameClip(){return e.renameClip},removeClip:()=>e.removeClip(t.id)},t))})),t})(),he=e('<p class="inline-block mt-4 text-center text-lg text-gray-700">You have no clips.</p>'),fe=e=>u(F,{class:"w-full",get children(){return[u(J,{type:"SECTION_TITLE",text:"My Clips"}),v((()=>{const t=v((()=>!!e.clips.length),!0);return()=>t()?u(me,e):he.cloneNode(!0)})())]}}),ye=e('<svg><path fillRule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clipRule="evenodd"></path></svg>',4,!0),xe=e=>u(Z,i(e,{get children(){return ye.cloneNode(!0)}})),be=e('<p class="flex flex-row align-center justify-center pt-6">Made with <!> by N. Keener</p>'),Ne=()=>u(F,{type:"FOOTER",class:"bottom-0 mt-10 pt-4 pb-6 text-center w-full",get children(){const e=be.cloneNode(!0),t=e.firstChild.nextSibling;return t.nextSibling,n(e,u(xe,{class:"h-6 w-6",fill:D}),t),e}}),_e=e("<span></span>"),we=e('<h1 class="font-headline font-bold font-serif uppercase text-stroke text-5xl text-gray-500"></h1>'),$e=e=>e.split("").map(((e,t)=>(()=>{const l=_e.cloneNode(!0);return d(l,"key",`${e}-${t}`),n(l,e),o((()=>l.className=z[Math.floor(Math.random()*z.length)])),l})())),Ce=e=>(()=>{const t=we.cloneNode(!0);return n(t,(()=>$e(e.text))),t})(),Le=e('<div class="container mx-auto p-6 md:w-3/5"></div>'),Re=e=>u(F,{type:"HEADER",get class(){return`header__main bg-pink-200 mb-6 pb-4 pt-16 ${e.class}`},get children(){const t=Le.cloneNode(!0);return n(t,u(Ce,{get text(){return e.title}}),null),n(t,u(J,{text:"A simple way to share your screen with your friends",type:"SUBTITLE"}),null),t}}),ke={audio:!1,video:{cursor:"always"}},Me=e=>{const[t,l]=s(null),[r,n]=Y(!1);let o;const a=()=>document.getElementById("videoStream");return{recording:r,error:t,start:t=>{n(!0),new Promise(((e,t)=>{try{e(navigator.mediaDevices.getDisplayMedia(ke))}catch(l){t(l)}})).then((l=>{a().srcObject=l,o=new MediaRecorder(l,{mimeType:"video/webm; codecs=vp9",videoBitsPerSecond:t.value}),o.ondataavailable=t=>e({blob:t.data,name:h(new Date),url:URL.createObjectURL(t.data)}),o.start()})).catch(l)},stop:()=>{n(!1),o&&o.stop(),a().srcObject=null},download:()=>{}}},Ee=N(_,f(y,[x,b])),Ie=N(_,b),Se=e('<div class="text-red-500 text-xl"></div>'),Oe=l([[e=>"function"==typeof e,e=>e()],[r,w]]),Te=N(C((e=>Array.isArray(e)),Ie),Oe,$("error")),He=N(Ee,Oe,$("error")),Ae=e=>(console.log(e),(()=>{const t=Se.cloneNode(!0);return n(t,(()=>Oe(e.error))),t})()),Be=N(L(N(Ae,R("error",k,{}))),$("error")),De=N(l([[Te,Be],[He,Ae],[r,M(null)]]),(ze="input",e=>(console.log(ze,e),e)));var ze;const Ve={LOW:{value:15e4,label:"Low"},MEDIUM:{value:5e5,label:"Medium"},HIGH:{value:1e6,label:"High"},SUPER_HIGH:{value:25e5,label:"Super High"}},je=e("<label></label>"),Qe=e=>{const t=a((()=>e.children)),[l,r]=E(e,["class"]);return(()=>{const e=je.cloneNode(!0);return c(e,r,!1,!0),n(e,t),o((()=>e.className=`${l.class} font-bold p-2`)),e})()},Ue=e("<option></option>"),qe=e("<select></select>"),Fe=e=>(()=>{const t=Ue.cloneNode(!0);return n(t,(()=>e.label)),o((l=>{const r=e.value,n=e.selected;return r!==l._v$&&(t.value=l._v$=r),n!==l._v$2&&(t.selected=l._v$2=n),l}),{_v$:void 0,_v$2:void 0}),t})(),Pe=e=>(()=>{const t=qe.cloneNode(!0);I(t,"change",e.onChange);const l=e.ref;return"function"==typeof l?l(t):e.ref=t,n(t,u(g,{get each(){return e.options},children:t=>u(Fe,i({get selected(){return e.value===t.value}},t))})),o((l=>{const r=`${e.class} border border-gray-400 p-2 rounded-md`,n=e.id;return r!==l._v$3&&(t.className=l._v$3=r),n!==l._v$4&&d(t,"id",l._v$4=n),l}),{_v$3:void 0,_v$4:void 0}),t})(),Ge=e("<button></button>"),Ke=e=>(()=>{const t=Ge.cloneNode(!0);return I(t,"click",e.onClick,!0),c(t,e,!1,!0),n(t,(()=>a((()=>e.children)))),o((l=>{var r;const n=`bg-pink-500 border text-xl text-white hover:bg-pink-300 transform transition-all px-3 py-2 rounded-md shadow-md w-32 ${e.class}`,o=null!=(r=e.type)?r:"button";return n!==l._v$&&(t.className=l._v$=n),o!==l._v$2&&d(t,"type",l._v$2=o),l}),{_v$:void 0,_v$2:void 0}),t})();p(["click"]);const We=e('<form class="control__main--group mb-4 py-4 w-full"><div></div></form>'),Je=e=>u(F,{class:"control__main",get children(){return[(()=>{const t=We.cloneNode(!0),l=t.firstChild;return n(l,u(Qe,{class:"text-gray-700",htmlFor:"videoQuality",children:"Video Quality"}),null),n(l,u(Pe,{class:"w-full",id:"videoQuality",get value(){return e.store.quality.videoQuality},get onChange(){return e.update},get options(){return e.videoQualityOptions}}),null),t})(),u(Ke,{class:"control__main--button",name:"control-record",get onClick(){return e.handleRecording},get children(){return e.recording()?"Stop":"Record"}})]}}),Ye=e('<video id="videoStream" autoplay playsinline></video>'),Xe=e('<div class="mt-10 mb-20 text-center"><p class="text-3xl text-gray-700">Not Recording</p></div>'),Ze=N(O(Ve.LOW),S(["quality","videoQuality","value"])),et=N(L((e=>({...e}))),T),tt=e=>{const[t,{update:l,reset:r}]=((e,t={})=>{const[l,r]=m({[e]:t});return[l,{reset:()=>{r(e,t)},update:t=>{const{form:l,id:n,value:o,isValid:a=!0,validationMessage:s}=t.target;l.checkValidity(),r(e,(e=>({...e,[n]:{value:o,error:s,isValid:a}})))}}]})("quality",{videoQuality:{value:Ve.MEDIUM,error:"",isValid:!0}}),{recording:n,start:a,stop:s,error:i}=Me(e.addClip),c=()=>{a(Ze(t))},d=()=>{s()};return[u(Je,{recording:n,handleRecording:()=>n()?d():c(),update:l,store:t,get videoQualityOptions(){return et(Ve)}}),u(F,{get children(){return[u(De,{get error(){return i()}}),v((()=>{const e=v((()=>!!n()),!0);return()=>e()?null:Xe.cloneNode(!0)})()),(()=>{const e=Ye.cloneNode(!0);return o((()=>e.className=""+(n()?"mt-10 mb-20":"hidden"))),e})()]}})]};B((function(){const[e,{addClip:t,renameClip:l,removeClip:r}]=((e=[])=>{const[t,l]=m({clips:e});return[t,{addClip:e=>l("clips",H((t=>t.push(e)))),renameClip:(e,t)=>l("clips",(t=>t.id===e),"name",(()=>t)),removeClip:e=>{l("clips",H((t=>{const l=t.findIndex((t=>t.id===e));t.splice(l,1)})))}}]})([]);return A((()=>console.log(e.clips))),[u(Re,{class:"mx-auto px-6",title:"Screenie Baby"}),u(F,{type:"MAIN",role:"main",class:"mb-14",get children(){return[u(tt,{addClip:t}),u(fe,{get clips(){return e.clips},renameClip:l,removeClip:r})]}}),u(Ne,{})]}),document.getElementById("root"));
